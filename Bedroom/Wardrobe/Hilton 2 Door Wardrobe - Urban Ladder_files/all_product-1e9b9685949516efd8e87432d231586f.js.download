function getCartAwarePricing(e,o,t){var i=$(".buy_details.current",e),n=void 0!==o,a=$(".sold-out",i).length>0,s=null,r=n?o.variants:{};0==i.length&&(i=null),s=$("#discounts-message-section",i),$(".message",s).addClass("hide"),a||(n||(r[i.attr("id").replace("buy_details_","")]=1),webService.getBestDiscountForVariants({variants:r},function(e){var a=($(".discounted-price",i)||$(".price-value",i)).html(),r=n?o.discountedPrice:UI.getNumberFromString(a),d=0,l=parseInt(e.data.effective_variants_price),c=e.data.promo_message;if(l&&r&&(d=100*(r-l)/r),!c)return showCartAwareMessage({},i,o,t);$(".loader",s).removeClass("hide"),setTimeout(function(){if(!n&&d>5){var r=$(".strikeprice.hide .price",i);r.length>0?r.html(a).parent().removeClass("hide"):$(".strike.hide",i).html(a).removeClass("hide");var p=$(".emi_price_str .more",i).clone();p.data("price",l),$(".emi_price_str",i).html(UI.getPriceInRupees(e.data.effective_variants_emi)),$(".emi_price_str",i).append(p)}var h={gausetimespent:1,gaaction:"BestPriceShown."+ulHelper.productNameForGALabel().replace(/^-/,"")+"."+$("#add-to-cart-button",i).data("sku"),galabel:UI.isEleInViewPort($(".loader",s))?"InViewPort":"NotInViewPort",ganoninteraction:!0};return ulHelper.trackEvent(h),showCartAwareMessage({message:c,prefix:e.data.promo_message_prefix},i,n?{price:o.price||o.discountedPrice,discountedPrice:l}:null,t)},1e3)},function(){return showCartAwareMessage({},i,o,t)}))}function showCartAwareMessage(e,o,t,i){$cartAwareMessageEle=$("#discounts-message-section",o),$(".loader",$cartAwareMessageEle).addClass("hide"),$.isEmptyObject(e)||($messageEle=$(".message",$cartAwareMessageEle),e.prefix?$messageEle.html($("<span></span>").addClass("message-prefix").html(e.prefix)):$messageEle.html(""),$messageEle.append(e.message).removeClass("hide")),void 0!==t&&i&&i(t.price,t.discountedPrice)}function DynamicBundles(){function e(e){e.on("toggled",function(e,t){var i=$(t).attr("id").replace("taxonHead",""),n=b.$dynamicBundlesWrap.find("#taxonContent"+i);1==n.data("reinitslick")?(b.$slideshowTracker.addClass("hide"),b.currPage=1,a(n.find(".variants_wrap:not(.slick-cloned):first"))):(b.currPage=n.find(".slick-slide.slick-active:not(.slick-cloned)").data("page"),o(n.data("totalVariantsCount")))})}function o(e){var o=(b.currPage-1)*parseInt(UL.DYNAMIC_BUNDLES_VARIANTS_PER_PAGE)+1,t=Math.min(o+parseInt(UL.DYNAMIC_BUNDLES_VARIANTS_PER_PAGE)-1,e),i=null;b.$slideshowTracker&&(i=b.$dynamicBundlesWrap.find(".active.content .slick-slide.slick-active:not(.slick-cloned)")),o&&i&&i.length&&i.find(".variants").length?(b.$slideshowTracker.find(".start").html(o+"-"+t),b.$slideshowTracker.find(".end").html(e),b.$slideshowTracker.removeClass("hide")):b.$slideshowTracker.addClass("hide")}function t(o,t){if(!Hercules.barcodesPresent()){var i=$(".taxons#teaser_"+t).first(),s=$(".taxons#"+t).first();o&&o.teaserHtml.length?(b.$bundlesTeaser.find(".taxons").addClass("hide"),i.length?i.removeClass("hide"):(i="<div class='taxons clearfix' id='teaser_"+t+"'>"+o.teaserHtml+"</div>",b.$bundlesTeaser.find(".taxons-wrap").prepend(i)),b.$bundlesTeaser.removeClass("hide"),s&&s.length?s.removeClass("hide"):((s=$("<div class='taxons' id='"+t+"'></div>")).html(o.dynamicBundlesHtml),b.$dynamicBundles.removeClass("hide").find(".taxons-wrap").append(s)),b.currPage=1,b.$dynamicBundlesWrap=s,b.$slideshowTracker=s.find(".slideshow-tracker"),a(s.find(".content:first .variants_wrap:not(.slick-cloned):first")),e(s.find(".dynamic-bundles-wrap")),$(document).foundation()):n(t)}}function n(e){var o=$(".taxons#"+e).first();o&&0!=o.length||(o=$("<div class='taxons' id='"+e+"'></div>"),b.$dynamicBundles.find(".taxons-wrap").append(o)),b.$dynamicBundlesWrap=o,b.$dynamicBundles.addClass("hide"),b.$bundlesTeaser.addClass("hide"),b.$slideshowTracker=null,b.currPage=1}function a(e){var t=e.data("taxon-id"),i=b.$dynamicBundlesWrap.find("#taxonContent"+t);e.data("ajax")?(e.html(UL.LOADER_IMG),s(e,t,e.data("page")),e.data("ajax",!1)):(b.currPage=i.find(".slick-slide.slick-active:not(.slick-cloned)").data("page"),o(i.data("totalVariantsCount")))}function s(e,t,n){requestObj={variant_id:b.currentVariantData.vid,recommendedTaxonId:t,offset:n||1,tab_index:$(e).parents(".content").index()+1},webService.getRecommendedVariants(requestObj,function(a){if(a&&a.pHtml&&a.totalCount){var s=b.$dynamicBundlesWrap.find("#taxonContent"+t);$(e).html(a.pHtml);var l=parseInt($(e).find(".variant.text-left").data("bundle"));if(l>0){$("#bundles-teaser .button-with-border").html("Explore Combos @ "+l+"% Off");var c="Get these products at <b>"+l+"% discount</b> when you buy them with "+b.productName+". ";$("#dynamicBundles .subtext").html(c)}else{c=UL.DYNAMIC_BUNDLE_SUBTEXT_1+b.productName+". "+UL.DYNAMIC_BUNDLE_SUBTEXT_2;$("#dynamicBundles .subtext").html(c)}if(1==n){var p=[];for(i=2;i<=Math.ceil(a.totalCount/UL.DYNAMIC_BUNDLES_VARIANTS_PER_PAGE);i++)p.push("<div class='variants_wrap' data-taxon-id='"+t+"' data-page="+i+" data-ajax=1></div>");s.append(p),s.hasClass("slick-slider")||d(s),s.data("totalVariantsCount",a.totalCount)}b.currPage=s.find(".slick-slide.slick-active:not(.slick-cloned)").data("page"),o(s.data("totalVariantsCount"))}else r(t,e)},function(){r(t,e)})}function r(e,o){var t=b.$dynamicBundlesWrap.find("#taxonHead"+e+" a").text();$(o).html("<div class='info'>"+UL.DYNAMIC_BUNDLES_NO_VARIANTS_MESSAGE+t+"</div>")}function d(e){e.data("reinitslick")&&(new ul_slick(e).render(),e.on("beforeChange",function(){b.$slideshowTracker&&b.$slideshowTracker.addClass("hide")}),e.on("afterChange",function(o,t,i){a(e.find("[data-slick-index="+i+"]:not(.slick-cloned)"))}),e.data("reinitslick",!1))}function l(e,o){if(e&&e.pHtml){b.productName&&b.$secondaryVariantContent.html("<div class='variant-wrapper'>"+e.pHtml+"</div>"),Hercules.generateCarousel($("#slider-"+o)),Hercules.updateVariantDetails(b.$secondaryVariantContent.find('#productvariants input[type="radio"]')),b.$secondaryVariantContent.find("#cart-form form, #product_pricing.sofa-section"),b.$secondaryVariantContent.parent().find(".buy-as-combo-wrap .buy-as-combo").html("Buy as a combo with "+b.productName),Hercules.Play360View();var t=b.$secondaryVariantContent.find(".dimension-images"),i=(o=b.$secondaryVariantContent.find('#productvariants input[type="radio"]').data("vid"),b.$secondaryVariantContent.find(".buy_details"),parseInt($(".variant.text-left").data("bundle")));if(i>0&&b.$secondaryVariantContent.parent().find(".buy-as-combo-wrap .buy-as-combo").html("Buy as a combo with "+b.productName+"and get extra <b>"+i+"% </b> discount."),config.featureFlag.cartAwarePrice&&getCartAwarePricing(b.$secondaryVariantContent),t.length)new ul_slick(t.find(".dimension-slideshow")).render()}else c()}function c(){b.$secondaryVariantContent.html("<div class='info'>"+UL.DYNAMIC_BUNDLES_NO_VARIANTDATA_MESSAGE+"</div>")}function p(){$(document).on("barcodes:fetched",function(){})}function h(){b.$dynamicBundles.on("click",".variant .clickable, .combo-lineitems .variant-link",function(){var e=$(this).parents(".variant");b.$secondaryVariantContent.parent().find(".buy-as-combo").html(""),b.$secondaryVariantContent.html(UL.LOADER_IMG),b.$secondaryVariantContent.parent().foundation("reveal","open"),requestObj={url:e.data("url")},webService.getProductModal(requestObj,function(o){l(o,e.data("id"))},function(){c()})})}function m(){var e=b.currentVariantData;if(e){b.$primaryVariant.find(".name").html($("<img>").attr({src:e.thumbnail,alt:e.name})).append($("<span>").attr({"class":"link-color name content"}).html(e.name));var o=b.$primaryVariant.find(".price"),t=parseInt(e.price)-parseInt(e.discountedPrice),i=UI.getPriceInRupees(parseInt(e.discountedPrice));o.html(""),t>0&&$("<strike>").html(UI.getPriceInRupees(parseInt(e.price))).data("val",parseInt(e.price)).appendTo(o),o.data("val",e.discountedPrice),$("<span>").html(i).appendTo(o),b.$primaryVariant.find(".total-price").html(i),b.$primaryVariant.find('input[id^="products"]').val(e.vid),b.$primaryVariant.find('input[id^="variants"]').attr({name:"variants["+e.vid+"]",id:"variants_"+e.vid}),w()}}function u(){b.$comboSummary.on("change","select",function(){ulHelper.trackEvent({gaaction:"dbundles.summary.lineItem.updateqty"});var e=$(this).parents(".lineitem");g(e,e.find('input[id^="products"]').val())})}function g(e){var o=parseInt(e.find("select option:selected").val()),t=e.find(".total-price"),i=parseInt(t.data("price"));e.find('input[id^="variants"]').val(o),t.html(UI.getPriceInRupees(i*o)),w()}function w(){b.$comboSummary.find(".combo-price").find(".emi-price, .final-price, .grand-total, .savings").html("..");var e=0,o=0;bundle_discount=$(".price").data("bundle"),$(".combo-lineitems .lineitem").each(function(){var t=$(this),i=parseInt(t.find("strike").data("val")),n=parseInt(t.find("select option:selected").val());e+=parseInt(t.find(".price").data("val"))*n,o+=(i||parseInt(t.find(".price").data("val")))*n});var t=o-e,i=b.$comboSummary.find(".combo-price"),n=i.find(".emi-price"),a=i.find(".emi-wrap");i.find(".final-price").html(UI.getPriceInRupees(e)),i.find(".grand-total").html(UI.getPriceInRupees(o)),i.find(".savings").html(UI.getPriceInRupees(t)).data("savings",t),webService.getBestEMI({amount:e},function(e){e&&e.best_emi?(n.html(UI.getPriceInRupees(e.best_emi)),a.removeClass("hide")):a.addClass("hide")},function(){a.addClass("hide")}),y()}function f(e){if((d=$("#variant-lineitem-"+e.vid)).length){var o=parseInt(d.find('input[id^="variants"]').val()),t=d.find('select option[value="'+(o+1)+'"]');if(0==t.length){$("<div>").attr({"class":"error-flash"}).html("Only "+o+" items are available for this product").appendTo(d.find(".variant.name"));setTimeout(function(){$(".error-flash").remove()},4e3)}else t.prop("selected",!0),g(d,e.vid);return b.$secondaryVariantContent.parent().foundation("reveal","close"),void(location.href="#comboAnchor")}var n=$(".variant.text-left").data("bundle");e.discountedPrice*=(100-n)/100;var a=parseInt(e.price)-parseInt(e.discountedPrice),s=$("<div>").attr({"class":"large-2 content columns text-center price","data-val":parseInt(e.discountedPrice)});a>0&&$("<strike>").attr({"data-val":parseInt(e.price)}).html(UI.getPriceInRupees(parseInt(e.price))).appendTo(s);var r=parseInt(a/e.price*100),d=$("<div>").attr({"class":"lineitem row",id:"variant-lineitem-"+e.vid,"data-sku":e.sku,"data-discount":r}),l=UI.getPriceInRupees(parseInt(e.discountedPrice));d.append($("<div>").attr({"class":"large-6 columns text-left link-color name content variant","data-id":e.vid,"data-url":e.url}).append($("<a>").attr({"class":"variant-link",href:"javascript:void(0);"}).append($("<img>").attr({src:e.thumbnail,alt:e.name}),$("<span>").attr({"class":"link-color content"}).html(e.name)))),$("<span>").html(l).appendTo(s),d.append(s);var c=$("<div>").attr({"class":"large-2 content columns text-center"}),p=$("<select>"),h=e.cartQuantityLimit;for(h<=0&&(h=1),i=1;i<=h;i++)$("<option>").attr({value:i}).html(i).appendTo(p);p.appendTo(c),c.appendTo(d),d.append($("<div>").attr({"class":"large-1 content columns text-right total-price","data-price":e.discountedPrice}).html(l)),d.append($("<div>").attr({"class":"large-1 columns text-center content"}).append($("<input>").attr({type:"hidden",name:"products["+e.pid+"]",id:"products_"+e.pid,value:e.vid}),$("<input>").attr({type:"hidden",name:"variants["+e.vid+"]",id:"variants_"+e.vid,value:1}),$("<div>").attr({"class":"removeLineItem"}).html($("<div>").attr({"class":"icofont-cross"})))),b.$comboSummary.find(".combo-lineitems").append(d),b.$secondaryVariantContent.parent().foundation("reveal","close"),location.href="#comboAnchor",w()}function z(){return b.$secondaryVariantContent.find("#product_variant_id")}function v(){$("body").on("click",".add-to-combo",function(){var e=z();e&&e.data()&&f(e.data())})}function W(){$("body").on("click",".removeLineItem",function(){$(this).parents(".lineitem").remove(),w(),ulHelper.trackEvent({gaaction:"dbundles.summary.lineItem.Remove"})})}function y(){var e=b.$comboSummary.find(".combo-price .savings"),o=e.parents(".row").first(),t=b.$comboSummary.find(".grand-total").parents(".row").first();e.data("savings")?(o.removeClass("hide"),t.removeClass("hide")):(o.addClass("hide"),t.addClass("hide"))}var b=this;b.currentVariantData=null,b.$bundlesTeaser=null,b.$dynamicBundles=null,b.$dynamicBundlesWrap=null,b.$secondaryVariantContent=null,b.$primaryVariant=null,b.$comboSummary=null,b.productName="",b.currPage=0,b.$slideshowTracker="",this.init=function(){b.$secondaryVariantContent=$("#secondaryVariant .product-data");var e=$("#product_variant_id");b.$primaryVariant=$("#primary-variant"),b.$comboSummary=$("#combo-summary"),b.setCurrentVariant(e),b.$bundlesTeaser=$("#bundles-teaser"),b.$dynamicBundles=$("#dynamicBundles"),b.productName=$("h1[itemprop = name]").html(),p(),h(),v(),u(),W(),b.getRecommendedTaxons(),$(".combo-price .button.primary").bind("click",function(){for(var e=$(".lineitem:not(#primary-variant)"),o=ulHelper.getLocalStorage("db-skus")?ulHelper.getLocalStorage("db-skus").split(","):[],t=ulHelper.getLocalStorage("db-discount")?ulHelper.getLocalStorage("db-discount").split(","):[],i=ulHelper.getLocalStorage("db-price")?ulHelper.getLocalStorage("db-price").split(","):[],n=0;n<e.length;n++){var a=$(".lineitem:not(#primary-variant)")[n],s=$(a).attr("data-sku"),r=$(a).attr("data-discount"),d=$(a).find(".price").attr("data-val");o.push(s),t.push(r),i.push(d)}ulHelper.setLocalStorage("db-skus",o),ulHelper.setLocalStorage("db-discount",r),ulHelper.setLocalStorage("db-price",i)})},this.setCurrentVariant=function(e){e.length&&(b.currentVariantData=e.data(),m())},this.getRecommendedTaxons=function(){var e=b.currentVariantData.vid,o="product_"+b.currentVariantData.pid+"_variant_"+e,i=b.$dynamicBundles.find(".taxons#"+o).first();if(b.$dynamicBundles.addClass("hide"),b.$bundlesTeaser.addClass("hide"),b.$dynamicBundles.find(".taxons").addClass("hide"),i&&i.length>0){if(Hercules.barcodesPresent())return;i.html()&&(b.$bundlesTeaser.find(".taxons").addClass("hide"),b.$bundlesTeaser.removeClass("hide").find(".taxons").addClass("hide"),b.$bundlesTeaser.find("[id='teaser_"+o+"']").removeClass("hide"),b.$slideshowTracker&&b.$slideshowTracker.addClass("hide"),b.$dynamicBundles.removeClass("hide"),i.removeClass("hide"),b.$dynamicBundlesWrap=i)}else requestObj={taxon_id:b.currentVariantData.primarytaxonid,variant_id:e},webService.getRecommendedTaxons(requestObj,function(e){t(e,o)},function(){n(o)})}}function BuyWithExchangeModal(){function e(e){$(".current-step .validation-error-message",l).html(e).addClass("show")}function o(){$(".current-step .validation-error-message",l).html("").removeClass("show")}function t(){$(document).on("click",".exchange-button",function(){var e=$("#product_variant_id"),o=e.data("name"),t=o.split("(")[0].trim(),i=o.split("(")[1].slice(0,-1),n=e.data("sku"),a=Number(e.data("discountedPrice")),r=$("#product-left-part .orbit-container.current li").first().find("img").attr("src");c.find(".variant-image").attr("src",r),c.find(".product-name").html(t),c.find(".variant-info").html(i),c.find(".before-discount").html(UI.getPriceInRupees(a)+":"),c.find(".step").removeClass("current-step"),p=1,s(),c.find(".step-"+p).addClass("current-step"),c.foundation("reveal","open");var d=ulHelper.getLocalStorage("UL-PINCODE"),m=$(".pincode",l);d?m.attr("disabled",!1).val(d):m.attr("disabled",!0),$(".sku",l).val(n),ulHelper.trackEvent({gacategory:"Product Page",gaaction:h.actions.popupOpened,galabel:n})})}function i(){l.on("change",".current-step input",function(){o()}),$(".step-3 input[name=tnc]",c).on("change",function(){$(this).is(":checked")&&ulHelper.trackEvent({gacategory:h.category,gaaction:h.actions.checkedTnc,galabel:$(".sku",l).val(),gavalue:$(".total-discount .value",c).data("discount")})}),$(".step-1 .go-to-next-step").on("click",function(){$(".step-1 input",c).valid()&&(a(),ulHelper.trackEvent({gacategory:h.category,gaaction:h.actions.completedStep1,galabel:$(".sku",l).val()}))}),$(".step-2 .calculate-discount").on("click",function(){$(".step-2 input",c).valid()&&(r(),ulHelper.trackEvent({gacategory:h.category,gaaction:h.actions.completedStep2,galabel:$(".sku",l).val()}))}),$(".add-to-cart-with-exchange").on("click",function(){$(".step-3 input[name=tnc]",c).is(":checked")?($(this).attr("disabled",!0).text("Adding To Cart").append(HandlebarsTemplates.jumping_dots({theme:"light"})),$(document).trigger("addedToCartWithExchange",{sku:$(".sku",l).val(),discountedPriceWithExchange:$(".variant-price .after-discount",c).data("discountedPriceWithExchange")}),l.submit()):e("Please agree to the Terms & Conditions.")}),$(".go-back").on("click",n),$(document).on("click","#exchange-form-modal .close-reveal-modal, .reveal-modal-bg",function(){c.hasClass("open")&&ulHelper.trackEvent({gacategory:h.category,gaaction:h.actions.popupClosed,galabel:$(".sku",l).val(),gavalue:p})})}function n(){var e=p-1,t=".step-"+p,i=".step-"+e;o(),ulHelper.trackEvent({gacategory:h.category,gaaction:h.actions.stepBack,galabel:"From Step: "+p}),p=e,s(),$(t,l).removeClass("current-step"),$(i,l).addClass("current-step")}function a(){var e=p+1,o=".step-"+p,t=".step-"+e;p=e,s(),$(o,l).removeClass("current-step"),$(t,l).addClass("current-step")}function s(){var e=$(".add-to-cart-with-exchange");3===p?e.attr("disabled",!1):(e.attr("disabled",!0),$(".total-discount .value",c).html("--"),$(".variant-price .after-discount",c).html("--"),$(".discount-detail",c).removeClass("with-discount"))}function r(){var o=$(".calculate-discount",c);o.attr("disabled",!0).append(HandlebarsTemplates.jumping_dots({theme:"light"})),webService.getDiscountOnExchange($("form#buy-with-exchange").serialize(),function(e){d(e.data),o.find(".jumping-dots").remove(),o.attr("disabled",!1)},function(){e("Sorry we could not calculate your discount. Please check your responses"),o.find(".jumping-dots").remove(),o.attr("disabled",!1)})}function d(e){o(),$(".total-discount .value",c).data("discount",e.discount).html(UI.getPriceInRupees(e.discount)),$(".variant-price .after-discount",c).data("discountedPriceWithExchange",e.discounted_price).html(UI.getPriceInRupees(e.discounted_price)),$(".discount-detail",c).addClass("with-discount"),a()}var l=$("form#buy-with-exchange"),c=$("#exchange-form-modal"),p=1,h={category:"Buy With Exchange Popup",actions:{popupOpened:"Buy With Exchange Popup Opened",checkedTnc:"Terms and Conditions Checked",completedStep1:"Step 1 Completed",completedStep2:"Step 2 Completed",stepBack:"Step Back",popupClosed:"Popup Closed"}};this.init=function(){ulHelper.validateForm("buy-with-exchange",null,{errorPlacement:function(){e("All questions are mandatory.")}}),t(),i()}}function StoryTelling(e){function o(e){$("#store-telling").empty().slideUp("fast");var o=[];e.data.variants.length>0&&e.data.variants[0].linked_inspirations&&e.data.variants[0].linked_inspirations.length>0&&(o=e.data.variants[0].linked_inspirations);var t=HandlebarsTemplates.story_telling({inspiration:o});$("#story-telling").html(t).slideDown("fast")}function t(e){console.error("Story telling API error = ",e)}function i(){ulHelper.isMobileApp()||(n.currentSku=e,n.getStories())}var n=this;n.getStories=function(e){e&&(n.currentSku=e);var i={};n.currentSku&&(i.sku=n.currentSku),webService.getStories(i,o,t)};$(document);i()}var ProductAnalytics=function(){function e(){$(".add-to-cart").on("click",function(){var e=$(this).data("sku");"undefined"!=typeof variantDetails&&o.addToCartEvent(e,variantDetails[e])}),$(document).on("addedToCartWithExchange",function(e,t){var i=t.sku;if("undefined"!=typeof variantDetails){var n=variantDetails[i];n.discounted_price=t.discountedPriceWithExchange,o.addToCartEvent(i,n)}}),$("#product-left-part-wrap .orbit-next").on("click",function(){var e=$(this).parent(".orbit-container"),o=e.find(".orbit-slides-container li").length,t=(e.find(".orbit-slides-container .active").index()+1)%o,i={};i[UL.GA_CUSTOM_DIMENSIONS_INDICES.sku]=ulHelper.currentVariantDetails().sku,ulHelper.trackEvent({gacategory:UL.GA_EVENTS.Category.product_image_slideshow,gaaction:UL.GA_EVENTS.Action.changed_slide,galabel:"next",gavalue:t+1,dimensions:i})}),$("#product-left-part-wrap .orbit-prev").on("click",function(){var e=$(this).parent(".orbit-container"),o=e.find(".orbit-slides-container li").length,t=e.find(".orbit-slides-container .active").index(),i=0===t?o:t,n={};n[UL.GA_CUSTOM_DIMENSIONS_INDICES.sku]=ulHelper.currentVariantDetails().sku,ulHelper.trackEvent({gacategory:UL.GA_EVENTS.Category.product_image_slideshow,gaaction:UL.GA_EVENTS.Action.changed_slide,galabel:"previous",gavalue:i,dimensions:n})}),$("#product-thumbnails").on("click",".product-image-thumbnail",function(e){var o=$(e.currentTarget).find("a[data-orbit-link]").attr("data-orbit-link").split("-")[2],t={};t[UL.GA_CUSTOM_DIMENSIONS_INDICES.sku]=ulHelper.currentVariantDetails().sku,ulHelper.trackEvent({gacategory:UL.GA_EVENTS.Category.product_image_slideshow,gaaction:UL.GA_EVENTS.Action.changed_slide,galabel:"thumbnail",gavalue:Number(o)+1,dimensions:t})})}var o=this;this.init=function(){"undefined"!=typeof variantDetails&&"undefined"!=typeof viewedVariantSKUs&&viewedVariantSKUs.length>0&&(UL.Ecommerce.productDetailImpression(variantDetails[viewedVariantSKUs[0]],!1),UL.Analytics.productViewed(variantDetails[viewedVariantSKUs[0]])),e()},this.variantChangeImpression=function(e){"undefined"!=typeof viewedVariantSKUs&&"undefined"!=typeof variantDetails&&viewedVariantSKUs.indexOf(e)<0&&(UL.Ecommerce.productDetailImpression(variantDetails[e],!0),UL.Analytics.productViewed(variantDetails[e]),viewedVariantSKUs.push(e))},this.addToCartEvent=function(e,o){"undefined"!=typeof viewedVariantSKUs&&viewedVariantSKUs.indexOf(e)>-1&&(o.quantity=1,dataLayer.push({variant_selling_price:o.discounted_price}),UL.Ecommerce.addToCartEvent(o),UL.Analytics.productAdded(o))}};$(document).ready(function(){(new ProductAnalytics).init()}),
/*
 *	jQuery elevateZoom 3.0.8
 *	Demo's and documentation:
 *	www.elevateweb.co.uk/image-zoom
 *
 *	Copyright (c) 2012 Andrew Eades
 *	www.elevateweb.co.uk
 *
 *	Dual licensed under the GPL and MIT licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 *

/*
 *	jQuery elevateZoom 3.0.3
 *	Demo's and documentation:
 *	www.elevateweb.co.uk/image-zoom
 *
 *	Copyright (c) 2012 Andrew Eades
 *	www.elevateweb.co.uk
 *
 *	Dual licensed under the GPL and MIT licenses.
 *	http://en.wikipedia.org/wiki/MIT_License
 *	http://en.wikipedia.org/wiki/GNU_General_Public_License
 */
"function"!=typeof Object.create&&(Object.create=function(e){function o(){}return o.prototype=e,new o}),function(e){var o={init:function(o,t){var i=this;i.elem=t,i.$elem=e(t),i.imageSrc=i.$elem.data("zoom-image")?i.$elem.data("zoom-image"):i.$elem.attr("src"),i.options=e.extend({},e.fn.elevateZoom.options,o),i.options.tint&&(i.options.lensColour="none",i.options.lensOpacity="1"),"inner"==i.options.zoomType&&(i.options.showLens=!1),i.$elem.parent().removeAttr("title").removeAttr("alt"),i.zoomImage=i.imageSrc,i.refresh(1),e("#"+i.options.gallery+" a").click(function(o){return i.options.galleryActiveClass&&(e("#"+i.options.gallery+" a").removeClass(i.options.galleryActiveClass),e(this).addClass(i.options.galleryActiveClass)),o.preventDefault(),e(this).data("zoom-image")?i.zoomImagePre=e(this).data("zoom-image"):i.zoomImagePre=e(this).data("image"),i.swaptheimage(e(this).data("image"),i.zoomImagePre),!1})},refresh:function(e){var o=this;setTimeout(function(){o.fetch(o.imageSrc)},e||o.options.refresh)},fetch:function(e){var o=this,t=new Image;o.showLoader(),t.onload=function(){o.largeWidth=t.width,o.largeHeight=t.height,o.startZoom(),o.currentImage=o.imageSrc,o.options.onZoomedImageLoaded(o.$elem)},t.src=e},showLoader:function(){var o=this;o.nzWidth=o.$elem.width(),o.nzHeight=o.$elem.height(),o.nzOffset=o.$elem.offset(),o.overWindow=!1,"window"==o.options.zoomType&&(o.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(o.options.zoomWindowBgColour)+";width: "+String(o.options.zoomWindowWidth)+"px;height: "+String(o.options.zoomWindowHeight)+"px;float: left;background-size: 400px;display:none;border: "+String(o.options.borderSize)+"px solid "+o.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"window"==o.options.zoomType&&(o.nzHeight<o.options.zoomWindowWidth/o.widthRatio?lensHeight=o.nzHeight:lensHeight=String(o.options.zoomWindowHeight/o.heightRatio),o.largeWidth<o.options.zoomWindowWidth?lensWidth=o.nzWidth:lensWidth=o.options.zoomWindowWidth/o.widthRatio,o.lensStyle="background-position: 0px 0px;width: "+String(o.options.zoomWindowWidth/o.widthRatio)+"px;height: "+String(o.options.zoomWindowHeight/o.heightRatio)+"px;float: right;overflow: hidden;display:none;z-index: 9;-webkit-transform: translateZ(0);opacity:"+o.options.lensOpacity+";filter: alpha(opacity = "+100*o.options.lensOpacity+"); zoom:1;width:120px;height:100px;background-color:"+o.options.lensColour+";cursor:"+o.options.cursor+";border: "+o.options.lensBorderSize+"px solid "+o.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),o.tintStyle="display: block;position: absolute;background-color: "+o.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+o.nzWidth+"px;height: "+o.nzHeight+"px;",o.lensRound="","lens"==o.options.zoomType&&(o.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(o.options.borderSize)+"px solid "+o.options.borderColour+";width:"+String(o.options.lensSize)+"px;height:"+String(o.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==o.options.lensShape&&(o.lensRound="border-top-left-radius: "+String(o.options.lensSize/2+o.options.borderSize)+"px;border-top-right-radius: "+String(o.options.lensSize/2+o.options.borderSize)+"px;border-bottom-left-radius: "+String(o.options.lensSize/2+o.options.borderSize)+"px;border-bottom-right-radius: "+String(o.options.lensSize/2+o.options.borderSize)+"px;"),o.zoomContainer=e("<div data-zoomid="+o.options.zoomId+' class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+o.nzOffset.left+"px;top:"+o.nzOffset.top+"px;height:"+o.nzHeight+"px;width:"+o.nzWidth+'px;"></div>'),e("body").append(o.zoomContainer),o.options.containLensZoom&&"lens"==o.options.zoomType&&o.zoomContainer.css("overflow","hidden"),"inner"!=o.options.zoomType&&(o.zoomLens=e("<div class='zoomLens' style='"+o.lensStyle+o.lensRound+"'>&nbsp;</div>").appendTo(o.zoomContainer).click(function(){o.$elem.trigger("click")}),o.options.tint&&(o.tintContainer=e("<div/>").addClass("tintContainer"),o.zoomTint=e("<div class='zoomTint' style='"+o.tintStyle+"'></div>"),o.zoomLens.wrap(o.tintContainer),o.zoomTintcss=o.zoomLens.after(o.zoomTint),o.zoomTintImage=e('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+o.nzWidth+"px; height: "+o.nzHeight+'px;" src="'+o.imageSrc+'">').appendTo(o.zoomLens).click(function(){o.$elem.trigger("click")})));var t="<div class='zoom-image-loader'><img src='https://www.ulcdn.net/assets/spree/frontend/icons/loader.gif' width='35px' class='loader-img'></img><div class='loader-text'>Loading zoom image</div></div>";o.zoomWindow=e("<div style='left:607px;top:0px;"+o.zoomWindowStyle+"' class='zoomWindow'>"+t+"</div>").appendTo(o.zoomContainer).click(function(){o.$elem.trigger("click")}),o.zoomWindowContainer=e("<div/>").addClass("zoomWindowContainer").css("width",o.options.zoomWindowWidth),o.zoomWindow.wrap(o.zoomWindowContainer),o.zoomContainer.bind("mousemove",function(e){0==o.overWindow&&o.setElements("show"),o.lastX===e.clientX&&o.lastY===e.clientY||(o.setPosition(e),o.currentLoc=e),o.lastX=e.clientX,o.lastY=e.clientY}),o.zoomContainer.add(o.$elem).mouseenter(function(){0==o.overWindow&&o.setElements("show"),o.options.onZoomWindowShow(o.$elem)}).mouseleave(function(){o.scrollLock||(o.setElements("hide"),o.options.onDestroy(o.$elem))}),"inner"!=o.options.zoomType&&o.zoomWindow.mouseenter(function(){o.overWindow=!0,o.setElements("hide")}).mouseleave(function(){o.overWindow=!1})},startZoom:function(){var o=this;if(o.nzWidth=o.$elem.width(),o.nzHeight=o.$elem.height(),o.isWindowActive=!1,o.isLensActive=!1,o.isTintActive=!1,o.overWindow=!1,o.options.imageCrossfade&&(o.zoomWrap=o.$elem.wrap('<div style="height:'+o.nzHeight+"px;width:"+o.nzWidth+'px;" class="zoomWrapper" />'),o.$elem.css("position","absolute")),o.zoomLock=1,o.scrollingLock=!1,o.changeBgSize=!1,o.currentZoomLevel=o.options.zoomLevel,o.nzOffset=o.$elem.offset(),o.widthRatio=o.largeWidth/o.currentZoomLevel/o.nzWidth,o.heightRatio=o.largeHeight/o.currentZoomLevel/o.nzHeight,o.zoomWindow.find(".zoom-image-loader").remove(),"window"==o.options.zoomType&&o.zoomContainer.find(".zoomWindow").css("background-size",o.largeWidth/o.currentZoomLevel+"px "+o.largeHeight/o.currentZoomLevel+"px"),"inner"==o.options.zoomType){var t=o.$elem.css("border-left-width");o.zoomWindowStyle="overflow: hidden;margin-left: "+String(t)+";margin-top: "+String(t)+";background-position: 0px 0px;width: "+String(o.nzWidth)+"px;height: "+String(o.nzHeight)+"px;px;float: left;display: none;cursor:"+o.options.cursor+";px solid "+o.options.borderColour+";background-repeat: no-repeat;position: absolute;",o.zoomContainer.find(".zoomWindow").css({width:String(o.nzWidth)+"px",height:String(o.nzHeight)+"px"})}isNaN(o.options.zoomWindowPosition)&&(o.zoomWindow=e("<div style='z-index:999;left:"+o.windowOffsetLeft+"px;top:"+o.windowOffsetTop+"px;"+o.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){o.$elem.trigger("click")})),"lens"==o.options.zoomType&&o.zoomLens.css({backgroundImage:"url('"+o.imageSrc+"')"}),"window"==o.options.zoomType&&o.zoomWindow.css({backgroundImage:"url('"+o.imageSrc+"')"}),"inner"==o.options.zoomType&&o.zoomWindow.css({backgroundImage:"url('"+o.imageSrc+"')"}),o.$elem.bind("touchmove",function(e){e.preventDefault();var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];o.setPosition(t)}),o.zoomContainer.bind("touchmove",function(e){"inner"==o.options.zoomType&&o.showHideWindow("show"),e.preventDefault();var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];o.setPosition(t)}),o.zoomContainer.bind("touchend",function(){o.showHideWindow("hide"),o.options.showLens&&o.showHideLens("hide"),o.options.tint&&"inner"!=o.options.zoomType&&o.showHideTint("hide")}),o.$elem.bind("touchend",function(){o.showHideWindow("hide"),o.options.showLens&&o.showHideLens("hide"),o.options.tint&&"inner"!=o.options.zoomType&&o.showHideTint("hide")}),o.options.showLens&&(o.zoomLens.bind("touchmove",function(e){e.preventDefault();var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];o.setPosition(t)}),o.zoomLens.bind("touchend",function(){o.showHideWindow("hide"),o.options.showLens&&o.showHideLens("hide"),o.options.tint&&"inner"!=o.options.zoomType&&o.showHideTint("hide")})),o.$elem.bind("mousemove",function(e){0==o.overWindow&&o.setElements("show"),o.lastX===e.clientX&&o.lastY===e.clientY||(o.setPosition(e),o.currentLoc=e),o.lastX=e.clientX,o.lastY=e.clientY}),"inner"!=o.options.zoomType&&o.zoomLens.bind("mousemove",function(e){o.lastX===e.clientX&&o.lastY===e.clientY||(o.setPosition(e),o.currentLoc=e),o.lastX=e.clientX,o.lastY=e.clientY}),o.options.tint&&"inner"!=o.options.zoomType&&o.zoomTint.bind("mousemove",function(e){o.lastX===e.clientX&&o.lastY===e.clientY||(o.setPosition(e),o.currentLoc=e),o.lastX=e.clientX,o.lastY=e.clientY}),"inner"==o.options.zoomType&&o.zoomWindow.bind("mousemove",function(e){o.lastX===e.clientX&&o.lastY===e.clientY||(o.setPosition(e),o.currentLoc=e),o.lastX=e.clientX,o.lastY=e.clientY}),o.options.zoomLevel,o.options.minZoomLevel?o.minZoomLevel=o.options.minZoomLevel:o.minZoomLevel=2*o.options.scrollZoomIncrement,o.options.scrollZoom&&o.zoomContainer.add(o.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(t){o.scrollLock=!0,clearTimeout(e.data(this,"timer")),e.data(this,"timer",setTimeout(function(){o.scrollLock=!1},250));var i=t.originalEvent.wheelDelta||-1*t.originalEvent.detail;return t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault(),i/120>0?o.currentZoomLevel>=o.minZoomLevel&&o.changeZoomLevel(o.currentZoomLevel-o.options.scrollZoomIncrement):o.options.maxZoomLevel?o.currentZoomLevel<=o.options.maxZoomLevel&&o.changeZoomLevel(parseFloat(o.currentZoomLevel)+o.options.scrollZoomIncrement):o.changeZoomLevel(parseFloat(o.currentZoomLevel)+o.options.scrollZoomIncrement),!1})},setElements:function(e){var o=this;if(!o.options.zoomEnabled)return!1;"show"==e&&o.isWindowSet&&("inner"==o.options.zoomType&&o.showHideWindow("show"),"window"==o.options.zoomType&&o.showHideWindow("show"),o.options.showLens&&o.showHideLens("show"),o.options.tint&&"inner"!=o.options.zoomType&&o.showHideTint("show")),"hide"==e&&("window"==o.options.zoomType&&o.showHideWindow("hide"),o.options.tint||o.showHideWindow("hide"),o.options.showLens&&o.showHideLens("hide"),o.options.tint&&o.showHideTint("hide"))},setPosition:function(e){var o=this;if(!o.options.zoomEnabled)return!1;o.nzHeight=o.$elem.height(),o.nzWidth=o.$elem.width(),o.nzOffset=o.$elem.offset(),o.options.tint&&"inner"!=o.options.zoomType&&(o.zoomTint.css({top:0}),o.zoomTint.css({left:0})),o.options.responsive&&!o.options.scrollZoom&&o.options.showLens&&(o.nzHeight<o.options.zoomWindowWidth/o.widthRatio?lensHeight=o.nzHeight:lensHeight=String(o.options.zoomWindowHeight/o.heightRatio),o.largeWidth<o.options.zoomWindowWidth?lensWidth=o.nzWidth:lensWidth=o.options.zoomWindowWidth/o.widthRatio,o.widthRatio=o.largeWidth/o.nzWidth,o.heightRatio=o.largeHeight/o.nzHeight,"lens"!=o.options.zoomType&&(o.nzHeight<o.options.zoomWindowWidth/o.widthRatio?lensHeight=o.nzHeight:lensHeight=String(o.options.zoomWindowHeight/o.heightRatio),o.nzWidth<o.options.zoomWindowHeight/o.heightRatio?lensWidth=o.nzWidth:lensWidth=String(o.options.zoomWindowWidth/o.widthRatio),o.zoomLens.css("width",lensWidth),o.zoomLens.css("height",lensHeight),o.options.tint&&(o.zoomTintImage.css("width",o.nzWidth),o.zoomTintImage.css("height",o.nzHeight))),"lens"==o.options.zoomType&&o.zoomLens.css({width:String(o.options.lensSize)+"px",height:String(o.options.lensSize)+"px"})),o.zoomContainer.css({top:o.nzOffset.top}),o.zoomContainer.css({left:o.nzOffset.left}),o.mouseLeft=parseInt(e.pageX-o.nzOffset.left),o.mouseTop=parseInt(e.pageY-o.nzOffset.top),"window"==o.options.zoomType&&(o.Etoppos=o.mouseTop<o.zoomLens.height()/2,o.Eboppos=o.mouseTop>o.nzHeight-o.zoomLens.height()/2-2*o.options.lensBorderSize,o.Eloppos=o.mouseLeft<0+o.zoomLens.width()/2,o.Eroppos=o.mouseLeft>o.nzWidth-o.zoomLens.width()/2-2*o.options.lensBorderSize),"inner"==o.options.zoomType&&(o.Etoppos=o.mouseTop<o.nzHeight/2/o.heightRatio,o.Eboppos=o.mouseTop>o.nzHeight-o.nzHeight/2/o.heightRatio,o.Eloppos=o.mouseLeft<0+o.nzWidth/2/o.widthRatio,o.Eroppos=o.mouseLeft>o.nzWidth-o.nzWidth/2/o.widthRatio-2*o.options.lensBorderSize),o.mouseLeft<0||o.mouseTop<0||o.mouseLeft>o.nzWidth||o.mouseTop>o.nzHeight?o.setElements("hide"):(o.options.showLens&&(o.lensLeftPos=String(Math.floor(o.mouseLeft-o.zoomLens.width()/2)),o.lensTopPos=String(Math.floor(o.mouseTop-o.zoomLens.height()/2))),o.Etoppos&&(o.lensTopPos=0),o.Eloppos&&(o.windowLeftPos=0,o.lensLeftPos=0,o.tintpos=0),"window"==o.options.zoomType&&(o.Eboppos&&(o.lensTopPos=Math.max(o.nzHeight-o.zoomLens.height()-2*o.options.lensBorderSize,0)),o.Eroppos&&(o.lensLeftPos=o.nzWidth-o.zoomLens.width()-2*o.options.lensBorderSize)),"inner"==o.options.zoomType&&(o.Eboppos&&(o.lensTopPos=Math.max(o.nzHeight-2*o.options.lensBorderSize,0)),o.Eroppos&&(o.lensLeftPos=o.nzWidth-o.nzWidth-2*o.options.lensBorderSize)),"lens"==o.options.zoomType&&(o.windowLeftPos=String(-1*((e.pageX-o.nzOffset.left)*o.widthRatio-o.zoomLens.width()/2)),o.windowTopPos=String(-1*((e.pageY-o.nzOffset.top)*o.heightRatio-o.zoomLens.height()/2)),o.zoomLens.css({backgroundPosition:o.windowLeftPos+"px "+o.windowTopPos+"px"}),o.changeBgSize&&(o.nzHeight>o.nzWidth?("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvalueheight+"px "+o.largeHeight/o.newvalueheight+"px"})):("lens"==o.options.zoomType&&o.zoomLens.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"}),o.zoomWindow.css({"background-size":o.largeWidth/o.newvaluewidth+"px "+o.largeHeight/o.newvaluewidth+"px"})),o.changeBgSize=!1),o.setWindowPostition(e)),o.options.tint&&"inner"!=o.options.zoomType&&o.setTintPosition(e),"window"==o.options.zoomType&&o.setWindowPostition(e),"inner"==o.options.zoomType&&o.setWindowPostition(e),o.options.showLens&&(o.fullwidth&&"lens"!=o.options.zoomType&&(o.lensLeftPos=0),o.zoomLens.css({left:o.lensLeftPos+"px",top:o.lensTopPos+"px"})))},showHideWindow:function(e){var o=this;"show"==e&&(o.isWindowActive||(o.options.zoomWindowFadeIn?o.zoomWindow.stop(!0,!0,!1).fadeIn(o.options.zoomWindowFadeIn):o.zoomWindow.show(),o.isWindowActive=!0)),"hide"==e&&o.isWindowActive&&(o.options.zoomWindowFadeOut?o.zoomWindow.stop(!0,!0).fadeOut(o.options.zoomWindowFadeOut,function(){o.loop&&(clearInterval(o.loop),o.loop=!1)}):o.zoomWindow.hide(),o.isWindowActive=!1)},showHideLens:function(e){var o=this;"show"==e&&(o.isLensActive||(o.options.lensFadeIn?o.zoomLens.stop(!0,!0,!1).fadeIn(o.options.lensFadeIn):o.zoomLens.show(),o.isLensActive=!0)),"hide"==e&&o.isLensActive&&(o.options.lensFadeOut?o.zoomLens.stop(!0,!0).fadeOut(o.options.lensFadeOut):o.zoomLens.hide(),o.isLensActive=!1)},showHideTint:function(e){var o=this;"show"==e&&(o.isTintActive||(o.options.zoomTintFadeIn?o.zoomTint.css({opacity:o.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(o.zoomTint.css({opacity:o.options.tintOpacity}).animate(),o.zoomTint.show()),o.isTintActive=!0)),"hide"==e&&o.isTintActive&&(o.options.zoomTintFadeOut?o.zoomTint.stop(!0,!0).fadeOut(o.options.zoomTintFadeOut):o.zoomTint.hide(),o.isTintActive=!1)},setLensPostition:function(){},setWindowPostition:function(o){var t=this;if(isNaN(t.options.zoomWindowPosition))t.externalContainer=e("#"+t.options.zoomWindowPosition),t.externalContainerWidth=t.externalContainer.width(),t.externalContainerHeight=t.externalContainer.height(),t.externalContainerOffset=t.externalContainer.offset(),t.windowOffsetTop=t.externalContainerOffset.top,t.windowOffsetLeft=t.externalContainerOffset.left;else switch(t.options.zoomWindowPosition){case 1:t.windowOffsetTop=t.options.zoomWindowOffety,t.windowOffsetLeft=+t.nzWidth;break;case 2:t.options.zoomWindowHeight>t.nzHeight&&(t.windowOffsetTop=-1*(t.options.zoomWindowHeight/2-t.nzHeight/2),t.windowOffsetLeft=t.nzWidth);break;case 3:t.windowOffsetTop=t.nzHeight-t.zoomWindow.height()-2*t.options.borderSize,t.windowOffsetLeft=t.nzWidth;break;case 4:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=t.nzWidth;break;case 5:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=t.nzWidth-t.zoomWindow.width()-2*t.options.borderSize;break;case 6:t.options.zoomWindowHeight>t.nzHeight&&(t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=-1*(t.options.zoomWindowWidth/2-t.nzWidth/2+2*t.options.borderSize));break;case 7:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=0;break;case 8:t.windowOffsetTop=t.nzHeight,t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 9:t.windowOffsetTop=t.nzHeight-t.zoomWindow.height()-2*t.options.borderSize,t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 10:t.options.zoomWindowHeight>t.nzHeight&&(t.windowOffsetTop=-1*(t.options.zoomWindowHeight/2-t.nzHeight/2),t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize));break;case 11:t.windowOffsetTop=t.options.zoomWindowOffety,t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 12:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=-1*(t.zoomWindow.width()+2*t.options.borderSize);break;case 13:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=0;break;case 14:t.options.zoomWindowHeight>t.nzHeight&&(t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=-1*(t.options.zoomWindowWidth/2-t.nzWidth/2+2*t.options.borderSize));break;case 15:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=t.nzWidth-t.zoomWindow.width()-2*t.options.borderSize;break;case 16:t.windowOffsetTop=-1*(t.zoomWindow.height()+2*t.options.borderSize),t.windowOffsetLeft=t.nzWidth;break;default:t.windowOffsetTop=t.options.zoomWindowOffety,t.windowOffsetLeft=t.nzWidth}t.isWindowSet=!0,t.windowOffsetTop=t.windowOffsetTop+t.options.zoomWindowOffety,t.windowOffsetLeft=t.windowOffsetLeft+t.options.zoomWindowOffetx,t.zoomWindow.css({top:t.windowOffsetTop}),t.zoomWindow.css({left:t.windowOffsetLeft}),"inner"==t.options.zoomType&&(t.zoomWindow.css({top:0}),t.zoomWindow.css({left:0})),t.windowLeftPos=String(-1*((o.pageX-t.nzOffset.left)*t.widthRatio-t.zoomWindow.width()/2)),t.windowTopPos=String(-1*((o.pageY-t.nzOffset.top)*t.heightRatio-t.zoomWindow.height()/2)),t.Etoppos&&(t.windowTopPos=0),t.Eloppos&&(t.windowLeftPos=0),t.Eboppos&&(t.windowTopPos=-1*(t.largeHeight/t.currentZoomLevel-t.zoomWindow.height())),t.Eroppos&&(t.windowLeftPos=-1*(t.largeWidth/t.currentZoomLevel-t.zoomWindow.width())),t.fullheight&&(t.windowTopPos=0),t.fullwidth&&(t.windowLeftPos=0),"window"!=t.options.zoomType&&"inner"!=t.options.zoomType||(1==t.zoomLock&&(t.widthRatio<=1&&(t.windowLeftPos=0),t.heightRatio<=1&&(t.windowTopPos=0)),"window"==t.options.zoomType&&(t.largeHeight<t.options.zoomWindowHeight&&(t.windowTopPos=0),t.largeWidth<t.options.zoomWindowWidth&&(t.windowLeftPos=0)),t.options.easing?(t.xp||(t.xp=0),t.yp||(t.yp=0),t.loop||(t.loop=setInterval(function(){t.xp+=(t.windowLeftPos-t.xp)/t.options.easingAmount,t.yp+=(t.windowTopPos-t.yp)/t.options.easingAmount,t.scrollingLock?(clearInterval(t.loop),t.xp=t.windowLeftPos,t.yp=t.windowTopPos,t.xp=-1*((o.pageX-t.nzOffset.left)*t.widthRatio-t.zoomWindow.width()/2),t.yp=-1*((o.pageY-t.nzOffset.top)*t.heightRatio-t.zoomWindow.height()/2),t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"==t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"!=t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"})),t.changeBgSize=!1),t.zoomWindow.css({backgroundPosition:t.windowLeftPos+"px "+t.windowTopPos+"px"}),t.scrollingLock=!1,t.loop=!1):Math.round(Math.abs(t.xp-t.windowLeftPos)+Math.abs(t.yp-t.windowTopPos))<1?(clearInterval(t.loop),t.zoomWindow.css({backgroundPosition:t.windowLeftPos+"px "+t.windowTopPos+"px"}),t.loop=!1):(t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"==t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"!=t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"})),t.changeBgSize=!1),t.zoomWindow.css({backgroundPosition:t.xp+"px "+t.yp+"px"}))},16))):(t.changeBgSize&&(t.nzHeight>t.nzWidth?("lens"==t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):("lens"==t.options.zoomType&&t.zoomLens.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}),t.largeHeight/t.newvaluewidth<t.options.zoomWindowHeight?t.zoomWindow.css({"background-size":t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}):t.zoomWindow.css({"background-size":t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})),t.changeBgSize=!1),t.zoomWindow.css({backgroundPosition:t.windowLeftPos+"px "+t.windowTopPos+"px"})))},setTintPosition:function(e){var o=this;o.nzOffset=o.$elem.offset(),o.tintpos=String(-1*(e.pageX-o.nzOffset.left-o.zoomLens.width()/2)),o.tintposy=String(-1*(e.pageY-o.nzOffset.top-o.zoomLens.height()/2)),o.Etoppos&&(o.tintposy=0),o.Eloppos&&(o.tintpos=0),o.Eboppos&&(o.tintposy=-1*(o.nzHeight-o.zoomLens.height()-2*o.options.lensBorderSize)),o.Eroppos&&(o.tintpos=-1*(o.nzWidth-o.zoomLens.width()-2*o.options.lensBorderSize)),o.options.tint&&(o.fullheight&&(o.tintposy=0),o.fullwidth&&(o.tintpos=0),o.zoomTintImage.css({left:o.tintpos+"px"}),o.zoomTintImage.css({top:o.tintposy+"px"}))},swaptheimage:function(o,t){var i=this,n=new Image;i.options.loadingIcon&&(i.spinner=e("<div style=\"background: url('"+i.options.loadingIcon+"') no-repeat center;height:"+i.nzHeight+"px;width:"+i.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),i.$elem.after(i.spinner)),i.options.onImageSwap(i.$elem),n.onload=function(){i.largeWidth=n.width,i.largeHeight=n.height,i.zoomImage=t,i.zoomWindow.css({"background-size":i.largeWidth+"px "+i.largeHeight+"px"}),i.swapAction(o,t)},n.src=t},swapAction:function(o,t){var i=this,n=new Image;if(n.onload=function(){i.nzHeight=n.height,i.nzWidth=n.width,i.options.onImageSwapComplete(i.$elem),i.doneCallback()},n.src=o,i.currentZoomLevel=i.options.zoomLevel,i.options.maxZoomLevel=!1,"lens"==i.options.zoomType&&i.zoomLens.css({backgroundImage:"url('"+t+"')"}),"window"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+t+"')"}),"inner"==i.options.zoomType&&i.zoomWindow.css({backgroundImage:"url('"+t+"')"}),i.currentImage=t,i.options.imageCrossfade){var a=i.$elem,s=a.clone();if(i.$elem.attr("src",o),i.$elem.after(s),s.stop(!0).fadeOut(i.options.imageCrossfade,function(){e(this).remove()}),i.$elem.width("auto").removeAttr("width"),i.$elem.height("auto").removeAttr("height"),a.fadeIn(i.options.imageCrossfade),i.options.tint&&"inner"!=i.options.zoomType){var r=i.zoomTintImage,d=r.clone();i.zoomTintImage.attr("src",t),i.zoomTintImage.after(d),d.stop(!0).fadeOut(i.options.imageCrossfade,function(){e(this).remove()}),r.fadeIn(i.options.imageCrossfade),i.zoomTint.css({height:i.$elem.height()}),i.zoomTint.css({width:i.$elem.width()})}i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),"inner"==i.options.zoomType&&(i.options.constrainType||(i.zoomWrap.parent().css("height",i.$elem.height()),i.zoomWrap.parent().css("width",i.$elem.width()),i.zoomWindow.css("height",i.$elem.height()),i.zoomWindow.css("width",i.$elem.width()))),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()))}else i.$elem.attr("src",o),i.options.tint&&(i.zoomTintImage.attr("src",t),i.zoomTintImage.attr("height",i.$elem.height()),i.zoomTintImage.css({height:i.$elem.height()}),i.zoomTint.css({height:i.$elem.height()})),i.zoomContainer.css("height",i.$elem.height()),i.zoomContainer.css("width",i.$elem.width()),i.options.imageCrossfade&&(i.zoomWrap.css("height",i.$elem.height()),i.zoomWrap.css("width",i.$elem.width()));i.options.constrainType&&("height"==i.options.constrainType&&(i.zoomContainer.css("height",i.options.constrainSize),i.zoomContainer.css("width","auto"),i.options.imageCrossfade?(i.zoomWrap.css("height",i.options.constrainSize),i.zoomWrap.css("width","auto"),i.constwidth=i.zoomWrap.width()):(i.$elem.css("height",i.options.constrainSize),i.$elem.css("width","auto"),i.constwidth=i.$elem.width()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.options.constrainSize),i.zoomWrap.parent().css("width",i.constwidth),i.zoomWindow.css("height",i.options.constrainSize),i.zoomWindow.css("width",i.constwidth)),i.options.tint&&(i.tintContainer.css("height",i.options.constrainSize),i.tintContainer.css("width",i.constwidth),i.zoomTint.css("height",i.options.constrainSize),i.zoomTint.css("width",i.constwidth),i.zoomTintImage.css("height",i.options.constrainSize),i.zoomTintImage.css("width",i.constwidth))),"width"==i.options.constrainType&&(i.zoomContainer.css("height","auto"),i.zoomContainer.css("width",i.options.constrainSize),i.options.imageCrossfade?(i.zoomWrap.css("height","auto"),i.zoomWrap.css("width",i.options.constrainSize),i.constheight=i.zoomWrap.height()):(i.$elem.css("height","auto"),i.$elem.css("width",i.options.constrainSize),i.constheight=i.$elem.height()),"inner"==i.options.zoomType&&(i.zoomWrap.parent().css("height",i.constheight),i.zoomWrap.parent().css("width",i.options.constrainSize),i.zoomWindow.css("height",i.constheight),i.zoomWindow.css("width",i.options.constrainSize)),i.options.tint&&(i.tintContainer.css("height",i.constheight),i.tintContainer.css("width",i.options.constrainSize),i.zoomTint.css("height",i.constheight),i.zoomTint.css("width",i.options.constrainSize),i.zoomTintImage.css("height",i.constheight),i.zoomTintImage.css("width",i.options.constrainSize))))},doneCallback:function(){var e=this;e.options.loadingIcon&&e.spinner.hide(),e.nzOffset=e.$elem.offset(),e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.currentZoomLevel=e.options.zoomLevel,e.widthRatio=e.largeWidth/e.nzWidth,e.heightRatio=e.largeHeight/e.nzHeight,"window"==e.options.zoomType&&(e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?lensHeight=e.nzHeight:lensHeight=String(e.options.zoomWindowHeight/e.heightRatio),e.options.zoomWindowWidth<e.options.zoomWindowWidth?lensWidth=e.nzWidth:lensWidth=e.options.zoomWindowWidth/e.widthRatio,e.zoomLens&&(e.zoomLens.css("width",lensWidth),e.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var o=this;return o.gallerylist=[],o.options.gallery?e("#"+o.options.gallery+" a").each(function(){var t="";e(this).data("zoom-image")?t=e(this).data("zoom-image"):e(this).data("image")&&(t=e(this).data("image")),t==o.zoomImage?o.gallerylist.unshift({href:""+t,title:e(this).find("img").attr("title")}):o.gallerylist.push({href:""+t,title:e(this).find("img").attr("title")})}):o.gallerylist.push({href:""+o.zoomImage,title:e(this).find("img").attr("title")}),o.gallerylist},changeZoomLevel:function(e){var o=this;o.scrollingLock=!0,o.newvalue=parseFloat(e).toFixed(2),newvalue=parseFloat(e).toFixed(2),maxheightnewvalue=o.largeHeight/(o.options.zoomWindowHeight/o.nzHeight*o.nzHeight),maxwidthtnewvalue=o.largeWidth/(o.options.zoomWindowWidth/o.nzWidth*o.nzWidth),"inner"!=o.options.zoomType&&(maxheightnewvalue<=newvalue?(o.heightRatio=o.largeHeight/maxheightnewvalue/o.nzHeight,o.newvalueheight=maxheightnewvalue,o.fullheight=!0):(o.heightRatio=o.largeHeight/newvalue/o.nzHeight,o.newvalueheight=newvalue,o.fullheight=!1),maxwidthtnewvalue<=newvalue?(o.widthRatio=o.largeWidth/maxwidthtnewvalue/o.nzWidth,o.newvaluewidth=maxwidthtnewvalue,o.fullwidth=!0):(o.widthRatio=o.largeWidth/newvalue/o.nzWidth,o.newvaluewidth=newvalue,o.fullwidth=!1),"lens"==o.options.zoomType&&(maxheightnewvalue<=newvalue?(o.fullwidth=!0,o.newvaluewidth=maxheightnewvalue):(o.widthRatio=o.largeWidth/newvalue/o.nzWidth,o.newvaluewidth=newvalue,o.fullwidth=!1))),"inner"==o.options.zoomType&&(maxheightnewvalue=parseFloat(o.largeHeight/o.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(o.largeWidth/o.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(o.heightRatio=o.largeHeight/newvalue/o.nzHeight,newvalue>maxheightnewvalue?o.newvalueheight=maxheightnewvalue:o.newvalueheight=newvalue,o.fullheight=!0):(o.heightRatio=o.largeHeight/newvalue/o.nzHeight,newvalue>maxheightnewvalue?o.newvalueheight=maxheightnewvalue:o.newvalueheight=newvalue,o.fullheight=!1),maxwidthtnewvalue<=newvalue?(o.widthRatio=o.largeWidth/newvalue/o.nzWidth,newvalue>maxwidthtnewvalue?o.newvaluewidth=maxwidthtnewvalue:o.newvaluewidth=newvalue,o.fullwidth=!0):(o.widthRatio=o.largeWidth/newvalue/o.nzWidth,o.newvaluewidth=newvalue,o.fullwidth=!1)),scrcontinue=!1,"inner"==o.options.zoomType&&(o.nzWidth>=o.nzHeight&&(o.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,o.fullheight=!0,o.fullwidth=!0)),o.nzHeight>o.nzWidth&&(o.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,o.fullheight=!0,o.fullwidth=!0))),"inner"!=o.options.zoomType&&(scrcontinue=!0),scrcontinue&&(o.zoomLock=0,o.changeZoom=!0,o.options.zoomWindowHeight/o.heightRatio<=o.nzHeight&&(o.currentZoomLevel=o.newvalueheight,"lens"!=o.options.zoomType&&"inner"!=o.options.zoomType&&(o.changeBgSize=!0,o.zoomLens.css({height:String(o.options.zoomWindowHeight/o.heightRatio)+"px"})),"lens"!=o.options.zoomType&&"inner"!=o.options.zoomType||(o.changeBgSize=!0)),o.options.zoomWindowWidth/o.widthRatio<=o.nzWidth&&("inner"!=o.options.zoomType&&o.newvaluewidth>o.newvalueheight&&(o.currentZoomLevel=o.newvaluewidth),"lens"!=o.options.zoomType&&"inner"!=o.options.zoomType&&(o.changeBgSize=!0,o.zoomLens.css({width:String(o.options.zoomWindowWidth/o.widthRatio)+"px"})),"lens"!=o.options.zoomType&&"inner"!=o.options.zoomType||(o.changeBgSize=!0)),"inner"==o.options.zoomType&&(o.changeBgSize=!0,o.nzWidth>o.nzHeight&&(o.currentZoomLevel=o.newvaluewidth),o.nzHeight>o.nzWidth&&(o.currentZoomLevel=o.newvaluewidth))),o.setPosition(o.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(e){var o=this;"enable"==e&&(o.options.zoomEnabled=!0),"disable"==e&&(o.options.zoomEnabled=!1)}};e.fn.elevateZoom=function(t){return this.each(function(){var i=Object.create(o);i.init(t,this),e.data(this,"elevateZoom",i)})},e.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:e.noop,onZoomWindowShow:function(){},onDestroy:function(){},onZoomedImageLoaded:function(){},onImageSwap:e.noop,onImageSwapComplete:e.noop,zoomId:"elevateZoom"}}(jQuery,window,document),$(function(){$("#dynamicBundles").length&&(_dynamicBundles=new DynamicBundles,_dynamicBundles.init())});var getTrustTestimonials=function(){function e(){
$("#trust-wrapper").hide()}function o(e,o,i,n){var a=$("#trust-wrapper .featured-testimonial");$(a).find(".text").html('"'+e+'"'),$(a).find(".name").html(i+" via "+o),$(a).find(".source").html("Read More"),t(n),$(a).show()}function t(e){$(".featured-testimonial").bind("click",function(){Testimonials.Item.openPopup(e,$(".trustElement"));var o={gaaction:"Trust.Testimonial.Open",galabel:e};ulHelper.trackEvent(o)})}this.init=function(){webService.getFeaturedTestimonial({},function(t){if(t.testimonials.length>0){var i=t.testimonials[0].summary_text,n=t.testimonials[0].source,a=t.testimonials[0].customer_name,s=t.testimonials[0].id;i&&n&&a&&s&&o(i,n,a,s)}else e(t)},function(){e(data)})}};$(function(){$("#trust-wrapper").length&&(trustElement=new getTrustTestimonials,trustElement.init())}),$(document).ready(function(){function e(e){var o=$("#"+e),t=o.attr("data-playtype"),i=o.attr("data-filler");return{events:{onReady:function(t){var i=t.target;autoPlayer[e]=i,!ulHelper.isMobile()&&(o.closest(".orbit-container").hasClass("current")||o.closest(".slider-container").hasClass("current")||o.closest("#sofaoverview"))&&void 0===o.attr("data-autoplay")&&(i.mute(),i.playVideo())},onStateChange:function(o){var n=o.target;autoPlayer[e]=n,0==o.data?"loop"==t&&autoPlayer[e].playVideo():1==o.data&&i&&$("#"+i).length&&($(".video-container__content").removeClass("hidden"),$("#"+i).hide())}}}}$(".product-slide-video").each(function(){var o=$(this).attr("id");YouTubePlayer.registerClient({iframe_id:o,options:e(o)})});var o=$(".orbit-container.current .videoli.active, .slider-container.current .videoli.slick-active, #sofaoverview .videoli"),t=$(window);if(o.length){var i=o.find(".product-slide-video").attr("id");t.data("prodvideo",!0).scroll(function(){0!=t.data("prodvideo")&&Object.keys(autoPlayer).length>0&&autoPlayer[i]&&autoPlayer[i].getPlayerState()==config.videoState.playing&&(UI.isEleInViewPort(o)||(autoPlayer[i].pauseVideo(),t.data("prodvideo",!1)))})}var n=$("#sofaoverviewlist");n.find(".product-slide-video").length&&n.on("after-slide-change.fndtn.orbit",function(){var e=$(this).find(".product-slide-video");e.length&&UI.pauseProductVideo(autoPlayer,e)})}),$(function(){if($(".exchange-section").length){function e(){var e,o=$("#product_variant_id").data("vid"),t=$("#exchange_details_"+o),i={};$("#exchange .exchange-section").slideUp(),0!==t.length&&($(".exchange-button",t).is(":disabled")?t.slideDown("fast"):(i.sku=$("#product_variant_id").data("sku"),(e=ulHelper.getLocalStorage("UL-PINCODE"))&&(i.pincode=e),webService.getExchangeServiceability(i,function(e){e.data.serviceability.is_serviceable&&t.slideDown("fast")},function(){console.error("Error occurred")})))}$(document).on("variant:changed",e),$(document).on("pincode:changed",e),e(),(new BuyWithExchangeModal).init()}});